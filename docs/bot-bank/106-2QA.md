---
layout: default
title: 106-2 QA
---

## 科目二：綜合科目（50分，非選擇題）


模擬題型參考106年綜合科目，含(1)邏輯推理（15分）(2)軟體工程（15分）(3)系統分析（10分）(4)資料結構（5分）(5)資料庫應用（5分）。

**(1) 邏輯推理（15分）**

A猜「1357」，B回「1A 1B」；再猜「2468」，B回「0A 2B」。

- （一）第一輪可能底牌總數（6分）。
- （二）結合第二輪，列3示例（5分）。
- （三）猜中機率（4分）。

<details>
  <summary>顯示答案</summary>

> 假設底牌為 1–8 的不重複四位數（與兩次猜測一致）。<br>
> A 猜 1357 → 1A1B ⇒ 在 {1,3,5,7} 中恰有 2 個，且其中 1 個在原位、1 個錯位。<br>
> 再猜 2468 → 0A2B ⇒ 在 {2,4,6,8} 中恰有 2 個，且都錯位（各自不在第1~4位對應位>置）。<br>
> （一）第一輪可能底牌總數（只用 1A1B）<br>
> &nbsp;&nbsp; 結論：288 種（1–8 不重複、對 1357 產生 1A1B 的排列數）。<br>
>（二）結合第二輪（兩條件同時成立），示例 3 組<br>
> &nbsp;&nbsp;例：1234、1276、1524（皆滿足 1357→1A1B、2468→0A2B）。<br>
>（三）猜中機率<br>
> &nbsp;&nbsp;綜合兩輪後剩 168 種可能 ⇒ 下一輪隨機一猜中機率 1/168 ≈ 0.6%。
</details>

---

**(2) 軟體工程（15分）**

繪UML序列圖給轉帳：User→System→DB。

- （一）文字描述圖（10分）。
<details>
  <summary>顯示答案</summary>

>（一）文字描述圖（10分）<br>
>User→System：Transfer(from,to,amount)（同步呼叫）。<br>
>System：驗證輸入與權限（alt：不合法→回錯）。<br>
>System→DB：BEGIN TRANSACTION。<br>
>System→DB：讀 from 餘額；檢查足額（alt：不足→ROLLBACK→回錯）。<br>
>System→DB：UPDATE Accounts SET balance -= amount WHERE id=from。<br>
>System→DB：UPDATE Accounts SET balance += amount WHERE id=to。<br>
>System→DB：寫交易明細 INSERT Transactions(...)。<br>
>System→DB：COMMIT。<br>
>DB→System：成功；System→User：成功。<br>
（圖上可用 alt 標示「餘額不足」分支，用 activation 表示 System/DB 的生命線與執行區塊）
</details>

- （二）應用於除錯（5分）。
  
<details>
  <summary>顯示答案</summary>

>（二）用於除錯（5分）<br>
> 序列圖讓你按時間看清每一步呼叫與回傳，能定位：。<br>
> 1.驗證沒擋住的無效輸入；。<br>
> 2.交易開始/提交/回滾是否對齊；。<br>
> 3.併發下更新順序/鎖定是否缺失；。<br>
> 4.失敗分支（alt）是否正確回錯而非半途成功。
</details>

---

**(3) 系統分析（10分）**

UML用例圖給銀行系統：登入、轉帳。

- （一）文字描述（6分）。
<details>
  <summary>顯示答案</summary>

>（一）<br>
> 主要 Actor：Customer。<br>
  用例：Login、Transfer。<br>
  Transfer ``<<include>>`` Login（需先登入）。<br>
  前置條件：已驗證身分；後置條件：兩帳戶餘額一致更新且有交易紀錄。

```mermaid
flowchart LR
  %% actors
  actorCustomer[["<<actor>> Customer"]]
  actorAuth[["<<external>> Auth Service"]]

  %% system boundary
  subgraph Bank_System[Bank System]
    UC_Login((Login <br> 登入))
    UC_Transfer((Transfer <br> 轉帳))
  end

  %% relations
  actorCustomer --> UC_Login
  actorCustomer --> UC_Transfer
  %% 等同 <<include>>
  UC_Transfer -.->|include<br>包含| UC_Login
  UC_Login --|驗證|--> actorAuth

  %% "note" as dashed box
  note1["前置：已登入<br/>後置：兩帳戶餘額一致更新並產生交易紀錄"]:::note
  note1 -.-> UC_Transfer

  %% styles
  classDef note fill:#fef3c7,stroke:#f59e0b,color:#92400e,stroke-dasharray:5 5,rx:6,ry:6
  classDef actor fill:#1f2937,stroke:#9ca3af,color:#fff,rx:6,ry:6
  classDef usecase fill:#374151,stroke:#cbd5e1,color:#fff,rx:60,ry:60
  class actorCustomer,actorAuth actor
  class UC_Login,UC_Transfer usecase

```
</details>

- （二）Actor關聯（4分）。

<details>
  <summary>顯示答案</summary>

>（二）<br>
> Customer—Login（關聯）。<br>
  Customer—Transfer（關聯）。<br>
 （可註明：Authentication Service/DB 為次要外部系統，作為支援者）
</details>

---  

**(4) 資料結構（5分）**

設計堆疊管理交易，push/pop O(1)。

- （一）C#偽碼（3分）。

<details>
  <summary>顯示答案</summary>

```cs
class Stack<T> {
    Node top; 
    int n;
    class Node { 
        T v; 
        Node next; 
        public Node(T v, Node next){ 
            this.v=v; this.next=next; 
        } 
    }
    void Push(T x){ 
        top = new Node(x, top); n++; 
    }              // O(1)
  T Pop(){ 
    if(top==null) throw; 
        var x=top.v; 
        top=top.next; 
        n--; 
    return x; } // O(1)
};
```
</details>

- （二）應用（2分）。
<details>
  <summary>顯示答案</summary>
    
> 交易系統的Undo/Redo：每次動作 push，回復時 pop 並反向操作 <br>
或：指令處理、括號匹配、回溯。
</details>
---

**(5) 資料庫應用（5分）**

GROUP BY查詢交易總額。

- （一）SQL（3分）。
<details>
  <summary>顯示答案</summary>

```sql
-- 依帳戶彙總區間內的交易總額
SELECT account_id, SUM(amount) AS total_amount
FROM dbo.Transactions
WHERE trans_date BETWEEN @from AND @to
GROUP BY account_id;
```
</details>

- （二）HAVING說明（2分）。